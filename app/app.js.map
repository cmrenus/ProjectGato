{"version":3,"file":"app.js","sources":["src/env.js","src/client/header/mainHeaderCtrl.js","src/client/settings/settingsCtrl.js","src/client/settings/colorService.js","src/client/user/userService.js","src/client/music/musicService.js","src/client/uploads/spotifyService.js","src/client/root/rootCtrl.js","src/client/music/musicControlsCtrl.js","src/client/music/musicCtrl.js","src/client/uploads/spotifyUploadCtrl.js","src/client/music/playlistsCtrl.js","src/client/uploads/youtubeUploadCtrl.js","src/app.js"],"sourcesContent":["// Simple wrapper exposing environment variables to rest of the code.\r\n\r\nimport jetpack from 'fs-jetpack';\r\n\r\n// The variables have been written to `env.json` by the build process.\r\nvar env = jetpack.cwd(__dirname).read('env.json', 'json');\r\n\r\nexport default env;\r\n","\"use strict\";\r\n//(function(){\r\n\r\n\t\r\n\r\nclass mainHeaderCtrl{\r\n\r\n\tconstructor($mdSidenav, $log, $location, colorService, $scope, musicService, $mdToast, $window){\r\n\t\t'ngInject';\r\n\r\n\t\tthis._$mdSidenav = $mdSidenav;\r\n\t\tthis._$log = $log;\r\n\t\tthis.toggleRight = this.buildToggler('right');\r\n    this.activeBackgroundColor = colorService.getActiveBackgroundColor();\r\n    this.active = $location.path().split('/')[0];\r\n    \r\n    var vm = this;\r\n\r\n    //check if first time starting application\r\n    this.newApp = musicService.libraryEmpty();\r\n    if(this.newApp === false){\r\n      $window.location.href = '#/music/songs';\r\n    }\r\n\r\n    $scope.$watch(function(){return colorService.getActiveBackgroundColor()}, function(newVal, oldVal, scope){\r\n      if(newVal){\r\n        vm.activeBackgroundColor = newVal;\r\n      }\r\n    }, true);\r\n\r\n\r\n\r\n    $scope.$on('uploadedMusic', function(e, value){\r\n      console.log(e, value);\r\n      vm.newApp = false;\r\n      $scope.$apply();\r\n      $window.location.href = '#/music/songs';\r\n      $mdToast.show(\r\n        $mdToast.simple()\r\n          .textContent('Music Uploaded!')\r\n          .position('top right')\r\n          .hideDelay(3000)\r\n      );\r\n    });\r\n\t};\r\n    /**\r\n     * Build handler to open/close a SideNav; when animation finishes\r\n     * report completion in console\r\n     */\r\n\r\n    clickTab(tab){\r\n      this.active = tab;\r\n    }\r\n\r\n    isOpenRight(){\r\n    \treturn this._$mdSidenav('right').isOpen();\r\n    }\r\n\r\n    buildToggler(navID) {\r\n      return () => {\r\n        // Component lookup should always be available since we are not using `ng-if`\r\n        this._$mdSidenav(navID)\r\n          .toggle()\r\n          .then( () => {\r\n            this._$log.debug(\"toggle \" + navID + \" is done\");\r\n          });\r\n      };\r\n    }\r\n}\r\nmainHeaderCtrl.$inject = ['$mdSidenav', '$log', '$location', 'colorService', '$scope', 'musicService', '$mdToast', '$window'];\r\n\r\nexport default mainHeaderCtrl;\r\n//})();","\"use strict\";\r\nclass settingsCtrl {\r\n\tconstructor ($mdColorPalette, colorService) {\r\n\t\t'ngInject';\r\n\t\tthis._$mdColorPalette = $mdColorPalette;\r\n\t\tthis._colorService = colorService;\r\n\t\tthis.colors = Object.keys($mdColorPalette);\r\n\t\tthis.theme = {};\r\n\t\tthis.stuff = 'default';\r\n\t\tthis.init(this);\t\r\n\t};\r\n\r\n\tinit(vm){\r\n\t\tthis._colorService.getCurrentColors().then(function(data){\r\n\t\t\tconsole.log('getCurrentColors', data);\r\n\t\t\tvm.theme = data;\r\n\t\t});\r\n\t};\r\n\r\n\tselectPrimaryTheme(color){\r\n\t\tthis.theme.primary = color;\r\n\t\tconsole.log(this.theme);\r\n\t};\r\n\r\n\tselectSecondaryTheme(color){\r\n\t\tthis.theme.accent = color;\r\n\t};\r\n\r\n\tsaveColor(){\r\n\t\tconsole.log('saveColor', this.theme)\r\n\t\tif(this.theme.isDark){\r\n\t\t\tthis.theme.name = this.theme.primary + '_' + this.theme.accent + '_dark';\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.theme.name = this.theme.primary + '_' + this.theme.accent + '_light';\r\n\t\t}\r\n\t\tthis._colorService.changeCurrentTheme({\r\n\t\t\tname: this.theme.name,\r\n\t\t\tprimary: this.theme.primary,\r\n\t\t\taccent: this.theme.accent,\r\n\t\t\tisDark: this.theme.isDark\r\n\t\t});\r\n\t};\r\n}\r\n\r\nsettingsCtrl.$inject = ['$mdColorPalette', 'colorService'];\r\nexport default settingsCtrl;","\r\n\r\nexport default class colorService {\r\n\tconstructor($mdTheming, themeProvider, $mdColors, $rootScope, userService){\r\n\t\t'ngInject';\r\n\t\tthis._$mdTheming = $mdTheming;\r\n\t\tthis._$mdColors = $mdColors;\r\n\t\tthis._$rootScope = $rootScope;\r\n\t\tthis._themeProvider = themeProvider;\r\n\t\tthis._userService = userService;\r\n\t\tthis.current = '';\r\n\t\tthemeProvider.alwaysWatchTheme(true);\r\n\t\tthemeProvider.generateThemesOnDemand(true);\r\n\t\tvar vm = this;\r\n\t\tthis.getCurrentColors().then(data => {\r\n\t\t\tvar colorPalette = data;\r\n\t\t\tvm.current = colorPalette.name;\r\n\t\t\tvm.changeCurrentTheme({name: vm.current, primary: colorPalette.primary, accent: colorPalette.accent, isDark: colorPalette.isDark});\r\n\t\t},\r\n\t\tfunction(err){\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tgetActiveBackgroundColor(){\r\n\t\treturn this.activeBackgroundColor;\r\n\t}\r\n\r\n\tgetCurrentColors(){\r\n\t\treturn this._userService.getUserData().then((data) => {\r\n\t\t\treturn data.settings.colorPalette;\r\n\t\t});\r\n\t};\r\n\r\n\tgetThemeColor(theme, hueName){\r\n\t\tvar name = this._$mdTheming.THEMES[this._$mdTheming.defaultTheme()].colors[theme].name;\r\n\t    var hue = this._$mdTheming.THEMES[this._$mdTheming.defaultTheme()].colors[theme].hues[hueName];\r\n\t    return this._$mdColors.getThemeColor(name + '-' + hue + '-1');\r\n\t}\r\n\r\n\tchangeCurrentTheme(newTheme){\r\n\t\tvar theme;\r\n\t\tif(newTheme.isDark){\r\n\t\t\tnewTheme.name = newTheme.name;\r\n\t\t\ttheme = this._themeProvider.theme(newTheme.name)\r\n\t\t\t\t\t\t.primaryPalette(newTheme.primary)\r\n\t\t\t\t\t\t.accentPalette(newTheme.accent)\r\n\t\t\t\t\t\t.dark();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tnewTheme.name = newTheme.name;\r\n\t\t\ttheme = this._themeProvider.theme(newTheme.name)\r\n\t\t\t\t\t\t.primaryPalette(newTheme.primary)\r\n\t\t\t\t\t\t.accentPalette(newTheme.accent);\r\n\t\t}\r\n\t\ttry{\r\n\t\t\tthis._$mdTheming.generateTheme(newTheme.name);\r\n\t\t\tthis._themeProvider.setDefaultTheme(newTheme.name);\r\n\t\t\tthis._$mdTheming.THEMES[newTheme.name] = theme;\r\n\t\t\tthis._$mdTheming.generateTheme(newTheme.name);\r\n\t\t\tthis.current = newTheme.name;\r\n\t\t\tconsole.log('DEFAULT THEME', this._$mdTheming.defaultTheme());\r\n\t\t\tvar name = this._$mdTheming.THEMES[this._$mdTheming.defaultTheme()].colors.accent.name;\r\n\t    \tvar hue = this._$mdTheming.THEMES[this._$mdTheming.defaultTheme()].colors.accent.hues.default;\r\n\t    \tthis.activeBackgroundColor = this._$mdColors.getThemeColor(name + '-' + hue + '-.8');\r\n\t    \tconsole.log(this.activeBackgroundColor);\r\n\t    \tthis._userService.saveColorSettings(newTheme);\r\n\t    }\r\n\t    catch(err){\r\n\t    \tconsole.log(err);\r\n\t    }\r\n\t}\r\n\r\n\r\n}\r\n\r\ncolorService.$inject = ['$mdTheming', 'themeProvider', '$mdColors', '$rootScope', 'userService'];","\r\nimport jetpack from 'fs-jetpack';\r\n\r\nexport default class userService {\r\n\tconstructor($http){\r\n\t\t'ngInject';\r\n\t\tthis._$http = $http;\r\n\t\tthis.data;\r\n\t\t//this._jetpack = jetpack;\r\n\r\n\t\tthis.getUserData().then((data) => {\r\n\t\t\tthis.data = data;\r\n\t\t});\r\n\t};\r\n\r\n\tgetUserData(){\r\n\t\t/*return jetpack.readAsync('./data/user.json').then(data => {\r\n\t\t\treturn JSON.parse(data);\r\n\t\t});*/\r\n\t\treturn this._$http.get('../data/user.json').then(data => {\r\n\t\t\treturn data.data;\r\n\t\t});\r\n\t}\r\n\r\n\tsaveColorSettings(theme){\r\n\t\tthis.data.settings.colorPalette = theme;\r\n\t\t//console.log(this.data);\r\n\t\tconsole.log('saving Color Settings');\r\n\t\ttry {\r\n\t\t\tjetpack.write('./data/user.json', this.data);\r\n\t\t}\r\n\t\tcatch(err){\r\n\t\t\tconsole.log('error');\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nuserService.$inject = ['$http'];","var jsmediatags = require('jsmediatags');\r\nvar fs = require('fs');\r\nvar jetpack = require('fs-jetpack');\r\nvar { dialog, app } = require('electron').remote;\r\nvar Song = require('../src/classes/song.js').Song;\r\n\r\nvar userDataPath = app.getPath('userData');\r\nconsole.log(userDataPath);\r\nvar slash = (function() {\r\n\tif(process.platform === 'darwin' || process.platform === 'linux') {\r\n\t\t\treturn '/';\r\n\t}\r\n\telse return '\\\\'\r\n})();\r\n\r\n\r\nexport default class musicService {\r\n\tconstructor($rootScope, spotifyService, $mdToast, $http){\r\n\t\t'ngInject';\r\n\t\tthis._$rootScope = $rootScope;\r\n\t\tthis._spotifyService = spotifyService;\r\n\t\tthis._$mdToast = $mdToast;\r\n\t\tthis._$http = $http;\r\n\r\n\t\tthis.getSongs();\r\n\t\tthis.setPlaylists();\r\n\t}\r\n\r\n\tgetSongs() {\r\n\t\tconsole.log(userDataPath + slash + 'library' + slash + 'library.json');\r\n\t\tconsole.log(jetpack.read(userDataPath + slash + 'library' + slash + 'library.json'));\r\n\t\tif(jetpack.read(userDataPath + slash + 'library.json')) {\r\n\t\t\tconsole.log('hi');\r\n\t\t\tthis.library = JSON.parse(jetpack.read(userDataPath + slash + 'library.json'));\r\n\t\t\tvar music = this.createLibrary();\r\n\t\t\treturn music;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log('No existing library');\r\n\t\t\tthis.library = {};\r\n\t\t}\r\n\t}\r\n\r\n\tcreateLibrary() {\r\n\t\tvar songs = [];\r\n\t\tvar artistsObj = {};\r\n\t\tvar artists = [];\r\n\t\tvar albumsObj = {};\r\n\t\tvar albums = [];\r\n\t\tfor (var key1 in this.library) {\r\n\t\t\tif (this.library.hasOwnProperty(key1)) {\r\n\t\t\t\tartistsObj[key1] = [];\r\n\t\t\t\tfor (var key2 in this.library[key1]) {\r\n\t\t\t\t\tif (this.library[key1].hasOwnProperty(key2)) {\r\n\t\t\t\t\t\talbumsObj[key2] = [];\r\n\t\t\t\t\t\tfor (var i = 0; i < this.library[key1][key2].length; i++) {\r\n\t\t\t\t\t\t\tsongs.push(this.library[key1][key2][i]);\r\n\t\t\t\t\t\t\tartistsObj[key1].push(this.library[key1][key2][i]);\r\n\t\t\t\t\t\t\talbumsObj[key2].push(this.library[key1][key2][i])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var key in artistsObj) {\r\n\t\t\tif(artistsObj.hasOwnProperty(key)) {\r\n\t\t\t\tartists.push({artist: key, songs: artistsObj[key]});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var key in albumsObj) {\r\n\t\t\tif(albumsObj.hasOwnProperty(key)) {\r\n\t\t\t\talbums.push({album: key, songs: albumsObj[key]});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\talbums.sort(function(a, b) {\r\n\t\t\tif ( a.album.toLowerCase() < b.album.toLowerCase() ) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\r\n\t\t\tif ( a.album.toLowerCase() > b.album.toLowerCase() ) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\tartists.sort(function(a, b) {\r\n\t\t\tif ( a.artist.toLowerCase() < b.artist.toLowerCase() ) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\r\n\t\t\tif ( a.artist.toLowerCase() > b.artist.toLowerCase() ) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tsongs: songs,\r\n\t\t\tartists: artists,\r\n\t\t\talbums: albums\r\n\t\t};\r\n\t}\r\n\r\n\tlibraryEmpty(){\r\n\t\tconsole.log(this.library);\r\n\t\treturn Object.keys(this.library).length === 0 && this.library.constructor === Object;\r\n\t}\r\n\r\n\tgetMusicData(path) {\r\n\t\t\t//Setting a variable for the controller\r\n\t\t\tvar musicController = this;\r\n\t\t\t//Hands back a promise to be resolved\r\n\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\t//using jsmediatags to read our music file data\r\n\t\t\t\t\tjsmediatags.read(path, {\r\n\t\t\t\t\t\t\tonSuccess: function(data) {\r\n\t\t\t\t\t\t\t\t\tif (!musicController.library[data.tags.artist]) {\r\n\t\t\t\t\t\t\t\t\t\tmusicController.library[data.tags.artist] = {};\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (!musicController.library[data.tags.artist][data.tags.album]) {\r\n\t\t\t\t\t\t\t\t\t\tmusicController.library[data.tags.artist][data.tags.album] = [];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tmusicController.library[data.tags.artist][data.tags.album].push(new Song(data.tags, path, 'local'));\r\n\t\t\t\t\t\t\t\t\t//Resolve the promise\r\n\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonError: function(error) {\r\n\t\t\t\t\t\t\t\t\treject();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t});\r\n\t}\r\n\t//Function to search our directory, takes a path, an empty array for promises, and a callback function\r\n\tsearchDir(path, promises, callback) {\r\n\t\t\t//Getting an array of our files\r\n\t\t\tvar fileList = jetpack.list(path);\r\n\t\t\tfor(var i = 0; i < fileList.length; i++) {\r\n\t\t\t\t\t//Getting the path of the file in list\r\n\t\t\t\t\tvar file = path + slash + fileList[i];\r\n\r\n\t\t\t\t\t//If the file we are given is actually a folder\r\n\t\t\t\t\tif(fs.lstatSync(file).isDirectory()) {\r\n\t\t\t\t\t\t\t//Recurse and run search directory again\r\n\t\t\t\t\t\t\tthis.searchDir(file, promises);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//If the file is an mp3\r\n\t\t\t\t\telse if(file.substr(file.length - 4) === '.mp3') {\r\n\t\t\t\t\t\t\t//Push returned data to our promise array\r\n\t\t\t\t\t\t\tpromises.push(this.getMusicData(file));\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//If there is a callback\r\n\t\t\tif(callback) {\r\n\t\t\t\t\t//Run our callback function\r\n\t\t\t\t\tcallback(promises);\r\n\t\t\t}\r\n\t}\r\n\r\n\topenFileExplorer() {\r\n\t\tvar musicController = this;\r\n\t\tthis.library = {};\r\n\t\tdialog.showOpenDialog({properties: ['openDirectory']}, function(files) {\r\n\t\t\t\t//Getting the path to our files\r\n\t\t\t\tvar musicFolder = files[0];\r\n\t\t\t\t//Creating an empty array for promises\r\n\t\t\t\tvar promises = []\r\n\t\t\t\t//Run our search directory function, give it a callback\r\n\t\t\t\tmusicController.searchDir(musicFolder, promises, function() {\r\n\t\t\t\t\t\t//This checks all of the promises that were added to our promise array\r\n\t\t\t\t\t\tPromise.all(promises).then(function() {\r\n\t\t\t\t\t\t\t\tconsole.log(musicController.library);\r\n\t\t\t\t\t\t\t\tmusicController.currentSong = musicController.library[0];\r\n\t\t\t\t\t\t\t\tconsole.log('writing');\r\n\t\t\t\t\t\t\t\tjetpack.remove(userDataPath + slash + 'library.json');\r\n\t\t\t\t\t\t\t\tjetpack.write(userDataPath + slash + 'library.json', musicController.library);\r\n\t\t\t\t\t\t\t\tmusicController._$rootScope.$broadcast('uploadedMusic');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tsetPlaylists() {\r\n\t\tif(jetpack.read(userDataPath + slash + 'playlists.json')) {\r\n\t\t\tthis.playlists = JSON.parse(jetpack.read(userDataPath + slash + 'playlists.json'));\r\n\t\t\treturn this.playlists;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log('No existing playlists');\r\n\t\t\tthis.playlists = {};\r\n\t\t\treturn {};\r\n\t\t}\r\n\t}\r\n\r\n\tgetPlaylists(){\r\n\t\treturn this.playlists || {};\r\n\t}\r\n\r\n\tcreatePlaylist(playlist_name) {\r\n\t\t//this.playlist = {};\r\n\t\tthis.playlists[playlist_name] = [];\r\n\t\tjetpack.remove(userDataPath + slash + 'playlists.json');\r\n\t\tjetpack.write(userDataPath + slash + 'playlists.json', this.playlists);\r\n\t}\r\n\r\n\taddToPlaylist(song, playlist_name, source) {\r\n\r\n\t}\r\n\r\n\taddSpotifySongToLibrary(track_id){\r\n\t\tvar vm = this;\r\n\t\tconsole.log(track_id)\r\n\t\tvm._spotifyService.getSongDetails(track_id).then(function(data){\r\n\t\t\tconsole.log(data);\r\n\t\t\tvm.addSpotifySong(data.data);\r\n\t\t\tjetpack.remove(userDataPath + slash + 'library.json');\r\n\t\t\tjetpack.write(userDataPath + slash + 'library.json', vm.library);\r\n\t\t\t//vm._$rootScope.$broadcast('uploadedMusic');\r\n\t\t},\r\n\t\tfunction(err){\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t}\r\n\r\n\r\n\taddSpotifySong(song){\r\n\t\tvar artist, album, picture;\r\n\t\tvar vm = this;\r\n\t\tif(song.artists && song.artists[0]){\r\n\t\t\tartist = song.artists[0].name\r\n\t\t}\r\n\t\telse{\r\n\t\t\tartist = undefined;\r\n\t\t}\r\n\r\n\t\tif(song.album){\r\n\t\t\talbum = song.album.name;\r\n\t\t}\r\n\t\telse{\r\n\t\t\talbum = undefined;\r\n\t\t}\r\n\r\n\t\tif(song.album && song.album.images && song.album.images[0]){\r\n\t\t\tpicture = song.album.images[0].url;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tpicture = undefined;\r\n\t\t}\r\n\r\n\t\tvar formattedSong = {\r\n\t\t\ttitle: song.name,\r\n\t\t\tartist: artist,\r\n\t\t\talbum: album,\r\n\t\t\tpicture: picture,\r\n\t\t\tsource: 'spotify',\r\n\t\t\tsong_id: song.id,\r\n\t\t\tpreview: song.preview_url,\r\n\t\t\tduration: song.duration_ms\r\n\t\t}\r\n\r\n\t\tif(!vm.library[song.artists[0].name]){\r\n\t\t\tvm.library[song.artists[0].name] = {};\r\n\t\t}\r\n\t\tif(!vm.library[song.artists[0].name][song.album.name]){\r\n\t\t\tvm.library[song.artists[0].name][song.album.name] = [];\r\n\t\t}\r\n\t\tvm.library[song.artists[0].name][song.album.name].push(new Song(formattedSong, formattedSong.picture, formattedSong.source));\r\n\t\treturn formattedSong;\r\n\t}\r\n\r\n\tcreatePlaylistFromSpotifyPlaylist(playlist){\r\n\t\tvar vm = this;\r\n\r\n\t\treturn new Promise(function(reject, resolve){\r\n\t\t\tif(vm.playlists[playlist.name]){\r\n\t\t\t\treject('playlist already exists');\r\n\t\t\t}\r\n\t\t\tvm.playlists[playlist.name] = [];\r\n\t\t\tfor(var x = 0; x < playlist.tracks.length; x++){\r\n\t\t\t\tvar song = vm.addSpotifySong(playlist.tracks[x]);\r\n\r\n\r\n\t\t\t\tvm.playlists[playlist.name].push(new Song(song, song.picture, song.source));\r\n\t\t\t\tif(x === playlist.tracks.length - 1){\r\n\t\t\t\t\tjetpack.remove(userDataPath + slash + 'playlists.json');\r\n\t\t\t\t\tjetpack.write(userDataPath + slash + 'playlists.json', vm.playlists);\r\n\t\t\t\t\tjetpack.remove(userDataPath + slash + 'library.json');\r\n\t\t\t\t\tjetpack.write(userDataPath + slash + 'library.json', vm.library);\r\n\t\t\t\t\tvm._$rootScope.$broadcast('uploadedMusic');\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetYoutubeInfo(id){\r\n\t\treturn this._$http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: 'https://www.googleapis.com/youtube/v3/videos',\r\n\t\t\tparams: {\r\n\t\t\t\tpart: 'snippet,contentDetails',\r\n\t\t\t\tkey: 'AIzaSyA4P8cyVlr7OZYGGUiavD8WsouHuNT1Q1k',\r\n\t\t\t\tid: id\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconvertToMS(input) {\r\n\r\n        var reptms = /^PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?$/;\r\n        var hours = 0, minutes = 0, seconds = 0, totalms;\r\n\r\n        if (reptms.test(input)) {\r\n            var matches = reptms.exec(input);\r\n            if (matches[1]) hours = Number(matches[1]);\r\n            if (matches[2]) minutes = Number(matches[2]);\r\n            if (matches[3]) seconds = Number(matches[3]);\r\n            totalms = hours * 3600000  + minutes * 60000 + seconds * 1000;\r\n        }\r\n\r\n        return (totalms);\r\n    }\r\n\r\n\taddYoutubeSong(id){\r\n\t\tvar vm = this;\r\n\t\treturn new Promise(function(resolve, reject){\r\n\t\t\tvm.getYoutubeInfo(id).then(function(data){\r\n\t\t\t\tvar song = {\r\n\t\t\t\t\ttitle: data.data.items[0].snippet.title,\r\n\t\t\t\t\tduration: vm.convertToMS(data.data.items[0].contentDetails.duration),\r\n\t\t\t\t\tpicture: data.data.items[0].snippet.thumbnails.default.url,\r\n\t\t\t\t\tsource: 'youtube',\r\n\t\t\t\t\tsong_id: id\r\n\t\t\t\t}\r\n\t\t\t\tvar newSong = new Song(song, song.picture, song.source);\r\n\t\t\t\tif(!vm.library[newSong.artist]){\r\n\t\t\t\t\tvm.library[newSong.artist] = {};\r\n\t\t\t\t}\r\n\t\t\t\tif(!vm.library[newSong.artist][newSong.album]){\r\n\t\t\t\t\tvm.library[newSong.artist][newSong.album] = [];\r\n\t\t\t\t}\r\n\t\t\t\tvm.library[newSong.artist][newSong.album].push(newSong);\r\n\t\t\t\tjetpack.remove(userDataPath + slash + 'library.json');\r\n\t\t\t\tjetpack.write(userDataPath + slash + 'library.json', vm.library);\r\n\t\t\t\tvm._$rootScope.$broadcast('uploadedMusic');\r\n\t\t\t\tresolve();\r\n\t\t\t},\r\n\t\t\tfunction(err){\r\n\t\t\t\treject(err);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmusicService.$inject = ['$rootScope', 'spotifyService', '$mdToast', '$http'];","import request from 'request';\r\nimport $q from 'q';\r\nconst {BrowserWindow} = require('electron').remote;\r\n\r\n\r\nexport default class spotifyService {\r\n\tconstructor($http, $q, $window){\r\n\t\t'ngInject';\r\n\t\tthis.CLIENT_ID = '40e6577107c843879fac67522c207a06';\r\n\t\tthis.CLIENT_SECRET = '0b0d27063e0d40d48e42cf1da9b1a423';\r\n\t\tthis._$window = $window;\r\n\t\tthis._$http = $http;\r\n\t}\r\n\r\n\tauthenticated(){\r\n\t\tif(this._$window.localStorage['spotifyToken']){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tlogin(){\r\n\t\tconsole.log('login service');\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar width = 450,\r\n\t\t\theight = 730,\r\n\t\t\tleft = (screen.width / 2) - (width / 2),\r\n\t\t\ttop = (screen.height / 2) - (height / 2);\r\n\t\tvar scopes = [\r\n\t\t\t\t'user-read-private',\r\n\t\t\t\t'playlist-read-private',\r\n\t\t\t\t'playlist-modify-public',\r\n\t\t\t\t'playlist-modify-private',\r\n\t\t\t\t'user-library-read',\r\n\t\t\t\t'user-library-modify',\r\n\t\t\t\t'user-follow-read',\r\n\t\t\t\t'user-follow-modify'\r\n\t\t\t];\r\n\t\t//console.log(CLIENT_ID);\r\n\t\tlet win = new BrowserWindow({width: 800, height: 600})\r\n\t\t/*win.on('closed', () => {\r\n\t\t  win = null\r\n\t\t})*/\r\n\r\n\t\t// Load a remote URL\r\n\t\t//win.loadURL('https://github.com')\r\n\t\tvar authURL = 'https://accounts.spotify.com/authorize?' +\r\n\t\t\t\t\t'client_id=' + this.CLIENT_ID + \r\n\t\t\t\t\t'&response_type=code' +\r\n\t\t\t\t\t'&redirect_uri=http://localhost/callback.html' +\r\n\t\t\t\t\t'&scope=' + encodeURIComponent(scopes.join(' '));\r\n\t\t\t\t\t//'Spotify' +\r\n\t\t\t\t\t//'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' + width + ', height=' + height + ', top=' + top + ', left=' + left\r\n\r\n\t\tconsole.log(authURL);\r\n\t\twin.loadURL(authURL);\r\n\t\t\r\n\r\n\t\t\t\t// Show window only after window is loaded\r\n\t\twin.webContents.on('did-stop-loading', function (event, oldUrl, newUrl, isMainFrame) {\r\n\t\t  win.show();\r\n\t\t});\r\n\r\n\t\twin.webContents.on('did-get-redirect-request', function (event, oldUrl, newUrl, isMainFrame) {\r\n\t\t  // event.preventDefault();\r\n\t\t  //console.log(event);\r\n\t\t  win.close();\r\n\t\t  console.log(newUrl);\r\n\t\t  var code = newUrl.split('?')[1].split('code=')[1];\r\n\t\t  deferred.resolve(code);\r\n\t\t  console.log(code);\r\n\t\t});\r\n\r\n\t\twin.on('closed', function() {\r\n\t\t\twin = null;\r\n\t\t});\r\n\t\t/*window.onmessage = function (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tvar code = JSON.parse(e.data).code;\r\n\t\t\tdeferred.resolve(code);\r\n\t\t};*/\r\n\t\treturn deferred.promise\r\n\t}\r\n\r\n\tsetToken(token, expires, refresh_token){\r\n\t\tthis._$window.localStorage['spotifyToken'] = token;\r\n\t\tthis._$window.localStorage['spotifyExpiresIn'] = expires;\r\n\t\tif(refresh_token){\r\n\t\t\tthis._$window.localStorage['spotifyRefreshToken'] = refresh_token;\r\n\t\t}\r\n\t}\r\n\r\n\tgetToken(code){\r\n\t\tvar deferred = $q.defer();\r\n\t\tconsole.log(code);\r\n\t\tvar token = this._$window.localStorage['spotifyToken'];\r\n\t\tconsole.log(new Date().getTime() / 1000 > this._$window.localStorage['spotifyExpiresIn'])\r\n\t\tif(new Date().getTime() / 1000 > this._$window.localStorage['spotifyExpiresIn']){\r\n\t\t\tconsole.log('we need a refresh!');\r\n\t\t\t//deferred.reject('we need a refresh!');\r\n\t\t\tthis.refreshToken().then(function(token){\r\n\t\t\t\tdeferred.resolve(token);\r\n\t\t\t},\r\n\t\t\tfunction(err){\r\n\t\t\t\tdeferred.reject(err);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if(token && token != 'undefined'){\r\n\t\t\tconsole.log('got Token');\r\n\t\t\tconsole.log(token);\r\n\t\t\tdeferred.resolve(token);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tlogin().then(function(code){\r\n\t\t\t\tgetNewToken(code).then(function(token){\r\n\t\t\t\t\tdeferred.resolve(token);\r\n\t\t\t\t},\r\n\t\t\t\tfunction(err){\r\n\t\t\t\t\tdeferred.reject(err);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tfunction(err){\r\n\t\t\t\tdeferred.reject(err);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tgetNewToken(code){\r\n\t\t/*return $http({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: '/spotify/accessToken',\r\n\t\t\tdata: {\r\n\t\t\t\tcode: code\r\n\t\t\t}\r\n\t\t}).then(function(data){\r\n\t\t\tconsole.log(data);\r\n\t\t\tsetToken(data.data.access_token, data.data.expires_in, data.data.refresh_token);\r\n\t\t\treturn data.data.access_token;\r\n\t\t},\r\n\t\tfunction(err){\r\n\t\t\treturn err;\r\n\t\t});*/\r\n\t\tvar vm = this;\r\n\t\tconsole.log('getNewToken', code);\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar options = { \r\n\t\t\tmethod: 'POST',\r\n\t\t  \turl: 'https://accounts.spotify.com/api/token',\r\n\t\t  \theaders: { \r\n\t\t     \t'cache-control': 'no-cache',\r\n\t\t     \t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t    },\r\n\t\t  \tform: { \r\n\t\t \t\tcode: code,\r\n\t\t    \tclient_id: this.CLIENT_ID,\r\n\t\t    \tclient_secret: this.CLIENT_SECRET,\r\n\t\t    \tgrant_type: 'authorization_code',\r\n\t\t    \tredirect_uri: 'http://localhost/callback.html'\r\n\t\t    }\r\n\t\t};\r\n\t\tconsole.log('before request')\r\n\t\trequest(options, function (error, response, body) {\r\n\t\t\tif (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tdeferred.reject(err);\r\n\t\t\t}\r\n\t\t\tconsole.log(body, response);\r\n\t\t\tbody = JSON.parse(body);\r\n\t\t\tbody['expires_in'] = ((new Date().getTime()) / 1000 | 0) + body['expires_in'];\r\n\t\t\tvm.setToken(body.access_token, body.expires_in, body.refresh_token);\r\n\t\t\tdeferred.resolve(body.access_token);\r\n\t\t\t//res.status(200).send(body);\r\n\t\t});\r\n\r\n\t\treturn deferred.promise;\r\n\r\n\t}\r\n\r\n\trefreshToken(){\r\n\t\t/*return $http({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: '/spotify/refreshToken',\r\n\t\t\tdata: {\r\n\t\t\t\trefresh_token: this._$window.localStorage['spotifyRefreshToken']\r\n\t\t\t}\r\n\t\t}).then(function(data){\r\n\t\t\tconsole.log(data);\r\n\t\t\tsetToken(data.data.access_token, data.data.expires_in, data.data.refresh_token);\r\n\t\t\treturn data.data.access_token;\r\n\t\t},\r\n\t\tfunction(err){\r\n\t\t\tconsole.log(err);\r\n\t\t});*/\r\n\t\tvar vm = this;\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar options = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: 'https://accounts.spotify.com/api/token',\r\n\t\t\tform: {\r\n\t\t\t\trefresh_token: this._$window.localStorage['spotifyRefreshToken'],\r\n\t\t\t\tgrant_type: 'refresh_token',\r\n\t\t\t\tclient_id: vm.CLIENT_ID,\r\n\t\t\t\tclient_secret: vm.CLIENT_SECRET\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trequest(options, function (error, response, body){\r\n\t\t\tif(error){\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tbody = JSON.parse(body);\r\n\t\t\tbody['expires_in'] = ((new Date().getTime()) / 1000 | 0) + body['expires_in'];\r\n\t\t\tconsole.log(body);\r\n\t\t\tvm.setToken(body.access_token, body.expires_in, body.refresh_token);\r\n\t\t\tdeferred.resolve(body.access_token);\r\n\t\t\t//res.status(200).send(body);\r\n\t\t});\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tgetUserPlaylists(){\r\n\t\tvar vm = this;\r\n\t\treturn vm.getToken().then(function(token){\r\n\t\t\treturn vm._$http({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: 'https://api.spotify.com/v1/me/playlists',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: 'Bearer ' + token\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tgetPlaylistDetails(user_id, playlist_id){\r\n\t\tvar vm = this;\r\n\t\treturn vm.getToken().then(function(token){\r\n\t\t\treturn vm._$http({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: 'https://api.spotify.com/v1/users/' + user_id + '/playlists/'+ playlist_id + '/tracks',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: 'Bearer ' + token\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tgetSongDetails(track_id){\r\n\t\tvar vm = this;\r\n\t\treturn vm.getToken().then(function(token){\r\n\t\t\treturn vm._$http({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: 'https://api.spotify.com/v1/tracks/' + track_id,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: 'Bearer ' + token\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nspotifyService.$inject = ['$http', '$q', '$window'];","'use strict';\r\n\r\nclass rootCtrl {\r\n\tconstructor(colorService, $scope){\r\n\t\t'ngInject';\r\n\t\t$scope.theme = colorService.current;\r\n\r\n\t\t$scope.$watch(function () {\r\n\t       return colorService.current;\r\n\t     },                       \r\n\t      function(newVal, oldVal) {\r\n\t        $scope.theme = newVal;\r\n\t    }, true);\r\n\t}\r\n\r\n\r\n}\r\n\r\nrootCtrl.$inject = ['colorService', '$scope'];\r\nexport default rootCtrl;","var jsmediatags = require('jsmediatags');\r\nvar fs = require('fs');\r\nvar jetpack = require('fs-jetpack');\r\nvar { dialog, app } = require('electron').remote;\r\nvar Song = require('../src/classes/song.js').Song;\r\n\r\nvar userDataPath = app.getPath('userData');\r\nvar slash = (function() {\r\n\tif(process.platform === 'darwin' || process.platform === 'linux') {\r\n\t\t\treturn '/';\r\n\t}\r\n\telse return '\\\\'\r\n})();\r\n\r\n\r\nexport default class musicControlsCtrl {\r\n\tconstructor(colorService, $scope, musicService){\r\n\t\t'ngInject';\r\n\t\tthis.primaryColor = colorService.getThemeColor('primary', 'default');\r\n\t\tthis.accentColor = colorService.getThemeColor('accent', 'default');\r\n\t\tthis.status = 'paused';\r\n\t\tthis.volume = 100;\r\n\t\tthis.library = {};\r\n\t\tthis.songs = [];\r\n\t\tthis.artists = [];\r\n\t\tthis.albums = [];\r\n\t\tthis.index = 0;\r\n\t\tthis.player = document.getElementById('music-player');\r\n\t\tthis.percentPlayed = 0;\r\n\t\tthis.currentSong = null;\r\n\t\tvar vm = this;\r\n\t\tthis._musicService = musicService;\r\n\r\n\t\tthis.state = {\r\n\t\t\talbumSelected: false,\r\n\t\t\tartistSelected: false,\r\n\t\t\tplaylistSelected: false\r\n\t\t}\r\n\r\n\t\t$scope.$watch(function(){return colorService.getThemeColor('primary', 'default')}, function(newVal, oldVal, scope){\r\n\t      if(newVal){\r\n\t        vm.primaryColor = newVal;\r\n\t      }\r\n\t    }, true);\r\n\r\n\t\t$scope.$watch(function(){return colorService.getThemeColor('accent', 'default')}, function(newVal, oldVal, scope){\r\n\t      if(newVal){\r\n\t        vm.accentColor = newVal;\r\n\t      }\r\n\t    }, true);\r\n\r\n\t\t$scope.$on('uploadedMusic', function(e){\r\n\t\t\tvm.library = vm._musicService.getSongs();\r\n\t\t\tvm.songs = vm.library.songs;\r\n\t\t\tvm.currentSong = vm.songs[0];\r\n\t\t\tvm.albums = vm.library.albums;\r\n\t\t\tvm.artists = vm.library.artists;\r\n\t\t});\r\n\r\n\t\tthis.library = musicService.getSongs();\r\n\t\tif(this.library) {\r\n\t\t\tthis.songs = this.library.songs;\r\n\t\t\tthis.currentSong = this.songs[0];\r\n\t\t\tthis.albums = this.library.albums;\r\n\t\t\tthis.artists = this.library.artists;\r\n\t\t}\r\n\r\n\t\tfunction update() {\r\n\t\t\tif(vm.status === 'playing') {\r\n\t\t\t\t$scope.$apply(function() {\r\n\t\t\t\t\tvm.percentPlayed = vm.player.currentTime/vm.player.duration * 100;\r\n\t\t\t\t\tvm.player.volume = vm.volume/100;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\twindow.requestAnimationFrame(update);\r\n\t\t}\r\n\r\n\t\twindow.requestAnimationFrame(update);\r\n\r\n\t};\r\n\r\n\tselectLibrary() {\r\n\t\tthis.songs = this.library.songs;\r\n\t}\r\n\r\n\tselectAlbum(i) {\r\n\t\tthis.state.albumSelected = this.albums[i];\r\n\t\tthis.songs = this.albums[i].songs;\r\n\t}\r\n\r\n\tselectArtist(i) {\r\n\t\tthis.state.artistSelected = this.artists[i];\r\n\t\tthis.songs = this.artists[i].songs;\r\n\t}\r\n\r\n\tsetTime() {\r\n\t\tvar percent = event.clientX/window.innerWidth;\r\n\t\tvar newTime = percent * this.player.duration;\r\n\t\tthis.player.currentTime = newTime;\r\n\t}\r\n\r\n\tsetSong(i) {\r\n\t\tthis.currentSong = this.songs[this.songs.indexOf(i)];\r\n\t\tthis.pause();\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tback(){\r\n\t\tthis.state = {\r\n\t\t\talbumSelected: false,\r\n\t\t\tartistSelected: false,\r\n\t\t\tplaylistSelected: false\r\n\t\t}\r\n\t}\r\n\r\n\tplay(){\r\n\t\tvar musicController = this;\r\n\t\tif(this.currentSong.path) {\r\n\t\t\twindow.setTimeout(function() {\r\n\t\t\t\tmusicController.player.play();\r\n\t\t\t},0);\r\n\t\t\tthis.status = 'playing';\r\n\t\t}\r\n\t}\r\n\r\n\tpause(){\r\n\t\tthis.player.pause();\r\n\t\tthis.status = 'paused';\r\n\t}\r\n\r\n\tnext() {\r\n\t\tif(this.index < this.songs.length -1) {\r\n\t\t\tthis.index++;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.index = 0;\r\n\t\t}\r\n\r\n\t\tthis.currentSong = this.songs[this.index];\r\n\t\tthis.pause();\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprev() {\r\n\t\tif(this.index > 0) {\r\n\t\t\tthis.index--;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.index = this.songs.length - 1;\r\n\t\t}\r\n\r\n\t\tthis.currentSong = this.songs[this.index];\r\n\t\tthis.pause();\r\n\t\tthis.play();\r\n\t}\r\n\r\n\topenFileExplorer() {\r\n\t\tthis._musicService.openFileExplorer();\r\n\t}\r\n};\r\n\r\nmusicControlsCtrl.$inject = ['colorService', '$scope', 'musicService'];","\r\n\r\nexport default class musicCtrl {\r\n\tconstructor($routeParams, musicService){\r\n\t\t'ngInject'\r\n\t\tthis.reverse = false;\r\n\t\tthis.predicate = ['artist', 'title'];\r\n\r\n\t\tif($routeParams.currentTab === 'playlists'){\r\n\t\t\tthis.currentTab = 0;\r\n\t\t}\r\n\t\telse if($routeParams.currentTab === 'artists'){\r\n\t\t\tthis.currentTab = 1;\r\n\t\t}\r\n\t\telse if($routeParams.currentTab === 'albums'){\r\n\t\t\tthis.currentTab = 2;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.currentTab = 3;\r\n\t\t}\r\n\t}\r\n\r\n\torder(predicate) {\r\n\t\tthis.reverse = (this.predicate[0] === predicate) ? !this.reverse : false;\r\n\t    this.predicate = [predicate, 'title'];\r\n\t}\r\n}\r\n\r\nmusicCtrl.$inject = ['$routeParams'];","\r\nexport default class spotifyUploadCtrl {\r\n\tconstructor(spotifyService, $scope, musicService, $mdToast){\r\n\t\t'ngInject';\r\n\t\tconsole.log('contructed');\r\n\t\tthis._spotifyService = spotifyService;\r\n\t\tthis.playlists = [];\r\n\t\tthis._musicService = musicService;\r\n\t\tthis._$mdToast = $mdToast;\r\n\t\tvar vm = this;\r\n\t\tthis._$scope = $scope;\r\n\t\tthis.loggedIn = spotifyService.authenticated();\r\n\t\tthis.loading = true;\r\n\t\tif(spotifyService.authenticated()){\r\n\t\t\tspotifyService.getUserPlaylists().then(function(data){\r\n\t\t\t\t//console.log(data);\r\n\t\t\t\t$scope.$apply(function(){\r\n\t\t\t\t\tvm.playlists = data.data.items;\r\n\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfunction(err){\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tloginToSpotify(){\r\n\t\tconsole.log('login');\r\n\t\tvar vm = this;\r\n\t\tthis._spotifyService.login().then(function(code){\r\n\t\t\tconsole.log(code);\r\n\t\t\tconsole.log('code success');\r\n\t\t\tvm._spotifyService.getNewToken(code).then(function(data){\r\n\t\t\t\talert(\"Successfuly Logged in!\");\r\n\t\t\t\tvm._spotifyService.getUserPlaylists().then(function(data){\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tvm.playlists = data.data.items;\r\n\t\t\t\t},\r\n\t\t\t\tfunction(err){\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfunction(err){\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t},\r\n\t\tfunction(err){\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t}\r\n\r\n\tgetPlaylistDetails(playlist){\r\n\t\tvar vm = this;\r\n\t\tthis._spotifyService.getPlaylistDetails(playlist.owner.id, playlist.id).then(function(data){\r\n\t\t\tconsole.log(data);\r\n\t\t\tvm._$scope.$apply(function(){\r\n\t\t\t\tplaylist.tracks = data.data.items;\r\n\t\t\t\tvm.currentPlaylist = playlist;\r\n\t\t\t\tconsole.log(vm.currentPlaylist);\r\n\t\t\t});\r\n\t\t},\r\n\t\tfunction(err){\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t}\r\n\r\n\taddPlaylist(playlist){\r\n\t\tthis._musicService.createPlaylistFromSpotifyPlaylist(playlist).then(function(){\r\n\t\t\tconsole.log('Playlist Added');\r\n\t\t\tvm._$mdToast.show({\r\n\t\t\t\ttemplate: '<md-toast>' +\r\n\t\t\t\t\t          '<div class=\"md-toast-content\">' +\r\n\t\t\t\t\t            'Playlist Added!' +\r\n\t\t\t\t\t          '</div>' +\r\n\t\t\t\t\t        '</md-toast>',\r\n\t\t\t\tposition: 'top right',\r\n\t\t\t\tparent: document.getElementById('content')\r\n\t\t\t});\r\n\t\t},\r\n\t\tfunction(err){\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t};\r\n\r\n\taddToLibrary(URI){\r\n\t\tvar parsed = URI.split(':');\r\n\t\tvar vm = this;\r\n\t\tif(parsed[0] !== 'spotify'){\r\n\t\t\talert('invalid uri');\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif(parsed[1] === 'track'){\r\n\t\t\t\tvm._musicService.addSpotifySongToLibrary(parsed[2]);\r\n\t\t\t\tvm._$mdToast.show({\r\n\t\t\t\t\ttemplate: '<md-toast>' +\r\n\t\t\t\t\t\t          '<div class=\"md-toast-content\">' +\r\n\t\t\t\t\t\t            'Song Added!' +\r\n\t\t\t\t\t\t          '</div>' +\r\n\t\t\t\t\t\t        '</md-toast>',\r\n\t\t\t\t\tposition: 'top right',\r\n\t\t\t\t\tparent: document.getElementById('content')\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if(parsed[1] === 'album'){\r\n\r\n\t\t\t}\r\n\t\t\telse if(parsed[1] === 'playlist'){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nspotifyUploadCtrl.$inject = ['spotifyService', '$scope', 'musicService', '$mdToast'];","\r\n\r\nexport default class playlistsCtrl {\r\n\tconstructor(musicService, $scope, $mdDialog){\r\n\t\t'ngInject';\r\n\t\tthis._musicService = musicService;\r\n\t\tthis._$scope = $scope;\r\n\t\tthis._$mdDialog = $mdDialog;\r\n\t\tthis.init();\r\n\t\tthis.currentPlaylist = {};\r\n\t}\r\n\r\n\tinit(){\r\n\t\tthis.playlists = this._musicService.getPlaylists();\r\n\t\tvar vm = this;\r\n\t\tvm._$scope.$watch(function(){return vm._musicService.getPlaylists()}, function(newVal, oldVal, scope){\r\n\t\t\tif(newVal){\r\n\t\t\t\tvm.playlists = newVal;\r\n\t\t\t\tconsole.log(vm.playlists);\r\n\t\t\t}\r\n\t\t}, true);\r\n\t\tconsole.log(this.playlists);\r\n\t\tthis._$scope.musicControls.state.playlistSelected = false;\r\n\t}\r\n\r\n\tselectPlaylist(name){\r\n\t\tthis._$scope.musicControls.state.playlistSelected = true;\r\n\t\tthis._$scope.musicControls.songs = this.playlists[name];\r\n\t\tthis.currentPlaylist = {\r\n\t\t\tname: name,\r\n\t\t\tduration: 0,\r\n\t\t\tcount: this.playlists[name].length\r\n\t\t};\r\n\t\tvar vm = this;\r\n\t\tfor(var x = 0; x < this.playlists[name].length; x++){\r\n\t\t\tvm.currentPlaylist.duration += Number(vm.playlists[name][x].duration);\r\n\t\t\tif(x === vm.playlists[name].length - 1){\r\n\t\t\t\tvm._$scope.$apply();\r\n\t\t\t}\r\n\t\t\t//console.log(vm.playlists[name][x].duration);\r\n\t\t}\r\n\t}\r\n\r\n\taddPlaylist(ev){\r\n\t\tvar vm = this;\r\n\t\tvar confirm = this._$mdDialog.prompt()\r\n    \t.title('What will you name your playlist?')\r\n    \t.placeholder('Playlist Name')\r\n    \t.ariaLabel('Playlist Name')\r\n    \t.initialValue('')\r\n    \t.targetEvent(ev)\r\n    \t.ok('Add Playlist')\r\n    \t.cancel('Cancel');\r\n\r\n\t    this._$mdDialog.show(confirm).then(function(result) {\r\n\t    \tvm._musicService.createPlaylist(result);\r\n\t    \tvm.playlists = vm._musicService.getPlaylists();\r\n\t    }, function() {\r\n\r\n\t    });\r\n\t}\r\n}\r\n\r\nplaylistsCtrl.$inject = ['musicService', '$scope', '$mdDialog'];","\r\nexport default class youtubeUploadCtrl {\r\n\tconstructor(musicService, $mdToast){\r\n\t\t'ngInject';\r\n\t\tthis._musicService = musicService;\r\n\t\tthis._$mdToast = $mdToast;\r\n\t}\r\n\r\n\tgetId(url){\r\n\t\treturn new Promise(function(resolve, reject){\r\n\t\t\tvar p = url.split('?');\r\n\t\t\tvar params = p[1].split('&');\r\n\t\t\tif(params.length === 0){\r\n\t\t\t\treject('improper url');\r\n\t\t\t}\r\n\t\t\tfor(var x = 0; x < params.length; x++){\r\n\t\t\t\tvar pair = params[x].split('=');\r\n\t\t\t\tif(pair[0] === 'v'){\r\n\t\t\t\t\tresolve(pair[1]);\r\n\t\t\t\t}\r\n\t\t\t\telse if(x === params.length){\r\n\t\t\t\t\treject('improper url');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\taddToLibrary(url){\r\n\t\tvar vm = this;\r\n\t\tvm.getId(url).then(function(id){\r\n\t\t\tconsole.log(id);\r\n\t\t\tvm._musicService.addYoutubeSong(id).then(function(){\r\n\t\t\t\tconsole.log('success!');\r\n\t\t\t\tvm._$mdToast.show({\r\n\t\t\t\t\ttemplate: '<md-toast>' +\r\n\t\t\t\t\t          '<div class=\"md-toast-content\">' +\r\n\t\t\t\t\t            'Song Added to Library!' +\r\n\t\t\t\t\t          '</div>' +\r\n\t\t\t\t\t        '</md-toast>',\r\n\t\t\t\t\tposition: 'top right',\r\n\t\t\t\t\tparent: document.getElementById('content')\r\n\t\t\t\t});\r\n\t\t\t\tvm.url = undefined;\r\n\t\t\t},\r\n\t\t\tfunction(err){\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\t\t},\r\n\t\tfunction(err){\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nyoutubeUploadCtrl.$inject = ['musicService', '$mdToast'];","// Here is the starting point for your application code.\r\n// All stuff below is just to show you how it works. You can delete all of it.\r\n\r\n// Use new ES6 modules syntax for everything.\r\nimport os from 'os'; // native node.js module\r\nimport { remote } from 'electron'; // native electron module\r\nimport jetpack from 'fs-jetpack'; // module loaded from npm\r\n//import { greet } from './hello_world/hello_world'; // code authored by you in this project\r\nimport env from './env';\r\nimport angular from 'angular';\r\nimport ngRoute from 'angular-route';\r\nimport ngAnimate from 'angular-animate';\r\nimport ngAria from 'angular-aria';\r\nimport ngMaterial from 'angular-material';\r\nimport mainHeaderCtrl from './client/header/mainHeaderCtrl';\r\nimport settingsCtrl from './client/settings/settingsCtrl';\r\nimport colorService from './client/settings/colorService';\r\nimport userService from './client/user/userService';\r\nimport musicService from './client/music/musicService';\r\nimport spotifyService from './client/uploads/spotifyService';\r\nimport rootCtrl from './client/root/rootCtrl';\r\nimport musicControlsCtrl from './client/music/musicControlsCtrl';\r\nimport musicCtrl from './client/music/musicCtrl';\r\nimport spotifyUploadCtrl from './client/uploads/spotifyUploadCtrl';\r\nimport playlistsCtrl from './client/music/playlistsCtrl';\r\nimport youtubeUploadCtrl from './client/uploads/youtubeUploadCtrl';\r\n\r\n(function(){\r\n\t\"use strict\";\r\n\r\n\tangular.module('ProjectGato', ['ngAnimate', 'ngRoute', 'ngMaterial'])\r\n\t.config(config)\r\n\t.service('colorService', colorService)\r\n\t.service('userService', userService)\r\n\t.service('musicService', musicService)\r\n\t.service('spotifyService', spotifyService)\r\n\t.controller('mainHeaderCtrl', mainHeaderCtrl)\r\n\t.controller('settingsCtrl', settingsCtrl)\r\n\t.controller('rootCtrl', rootCtrl)\r\n\t.controller('musicControlsCtrl', musicControlsCtrl)\r\n\t.controller('spotifyUploadCtrl', spotifyUploadCtrl)\r\n\t.controller('musicCtrl', musicCtrl)\r\n\t.controller('playlistsCtrl', playlistsCtrl)\r\n\t.controller('youtubeUploadCtrl', youtubeUploadCtrl)\r\n\t.filter('formatDuration', function () {\r\n\t    return function (input) {\r\n\t        var totalHours, totalMinutes, totalSeconds, hours, minutes, seconds, result='';\r\n\r\n\t        totalSeconds = input / 1000;\r\n\t        totalMinutes = totalSeconds / 60;\r\n\t        totalHours = totalMinutes / 60;\r\n\r\n\t        seconds = Math.floor(totalSeconds) % 60;\r\n\t        minutes = Math.floor(totalMinutes) % 60;\r\n\t        hours = Math.floor(totalHours) % 60;\r\n\r\n\t        if (hours !== 0) {\r\n\t            result += hours+':';\r\n\r\n\t            if (minutes.toString().length == 1) {\r\n\t                minutes = '0'+minutes;\r\n\t            }\r\n\t        }\r\n\r\n\t        result += minutes+':';\r\n\r\n\t        if (seconds.toString().length == 1) {\r\n\t            seconds = '0'+seconds;\r\n\t        }\r\n\r\n\t        result += seconds;\r\n\r\n\t        return result;\r\n\t    };\r\n\t});\r\n\t\r\n\r\n\tconfig.$inject = ['$routeProvider', '$mdThemingProvider', '$mdColorPalette', '$provide'];\r\n\r\n\tfunction config($routeProvider, $mdThemingProvider, $mdColorPalette, $provide){\r\n\t\t$routeProvider\r\n\t\t.when('/', {\r\n\t\t\ttemplateUrl: './client/landing/welcome.html'\r\n\t\t})\r\n\t\t.when('/music/:currentTab', {\r\n\t\t\ttemplateUrl: './client/music/musicPage.html'\r\n\t\t})\r\n\t\t.when('/upload/spotify', {\r\n\t\t\ttemplateUrl: './client/upload/uploadSpotify.html'\r\n\t\t})\r\n\t\t.when('/upload/soundcloud', {\r\n\t\t\ttemplateUrl: './client/upload/uploadSoundcloud.html'\r\n\t\t})\r\n\t\t.when('/upload/youtube', {\r\n\t\t\ttemplateUrl: './client/upload/uploadYoutube.html'\r\n\t\t})\r\n\t\t.when('/upload/localFiles', {\r\n\t\t\ttemplateUrl: './client/upload/uploadLocalFiles.html'\r\n\t\t})\r\n\t\t.when('/upload', {\r\n\t\t\ttemplateUrl: './client/upload/uploadExternalSources.html'\r\n\t\t});\r\n\r\n\t\t$mdThemingProvider.alwaysWatchTheme(true);\r\n\t\t$mdThemingProvider.generateThemesOnDemand(true);\r\n\t\t$provide.value('themeProvider', $mdThemingProvider);\r\n\r\n\r\n\t}\r\n})();\r\n\r\n"],"names":["jetpack","$q","jsmediatags","fs","dialog","app","Song","userDataPath","slash"],"mappings":"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"}